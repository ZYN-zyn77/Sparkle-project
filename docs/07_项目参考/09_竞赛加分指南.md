# Sparkle ç«èµ›åŠ åˆ†æŒ‡å— (Judges' Guide)

æœ¬æ–‡æ¡£æ€»ç»“äº† Sparkle é¡¹ç›®ä¸­ä¸ºè½¯ä»¶åˆ›æ–°å¤§èµ›ç‰¹åˆ«è®¾è®¡çš„æŠ€æœ¯äº®ç‚¹å’Œæ¼”ç¤ºç­–ç•¥ã€‚è¯·åœ¨ç­”è¾©å’Œæ¼”ç¤ºæ—¶é‡ç‚¹æåŠè¿™äº›å†…å®¹ã€‚

## ğŸŒŸ æ ¸å¿ƒäº®ç‚¹ (Key Differentiators)

### 1. AIOps æ™ºèƒ½è¿ç»´ (The "Self-Healing" System)
*   **æ¼”ç¤ºç‚¹**: å±•ç¤ºç³»ç»Ÿä¸ä»…èƒ½æœåŠ¡ç”¨æˆ·ï¼Œè¿˜èƒ½è‡ªæˆ‘è¯Šæ–­ã€‚
*   **å¦‚ä½•æ¼”ç¤º**:
    1.  è¿è¡Œ `./demo_start.sh` å¯åŠ¨ç³»ç»Ÿã€‚
    2.  æ‰“å¼€ Appï¼Œè¿›å…¥èŠå¤©ç•Œé¢ã€‚
    3.  **è§¦å‘æ•…éšœ**: å‘é€ POST è¯·æ±‚ `http://localhost:8080/admin/chaos/inject?type=latency&duration=30s` (æ¨¡æ‹Ÿæ•°æ®åº“æ…¢æŸ¥è¯¢)ã€‚
    4.  **AI è¯Šæ–­**: åœ¨ App ä¸­é—® AI "ç³»ç»ŸçŠ¶æ€æ€ä¹ˆæ ·ï¼Ÿ" (è°ƒç”¨ `check_system_status` å·¥å…·)ã€‚
    5.  **ç»“æœ**: AI ä¼šåé¦ˆ "æ£€æµ‹åˆ°ç³»ç»Ÿå»¶è¿Ÿè¿‡é«˜ (P99 > 2s)" å¹¶ç»™å‡ºå»ºè®®ã€‚
*   **æŠ€æœ¯æ ˆ**: Go Middleware (Chaos Injection) + Prometheus (Metrics) + Loki (Logs) + LLM Reasoningã€‚

### 2. æè‡´å·¥ç¨‹åŒ– (Engineering Excellence)
*   **Docker é•œåƒç˜¦èº«**:
    *   Go Gateway é‡‡ç”¨ Multi-stage Buildï¼Œæœ€ç»ˆé•œåƒä»… **~20MB** (Alpine)ã€‚
    *   Python Backend ç§»é™¤ç¼–è¯‘ä¾èµ–ï¼Œä½“ç§¯å‡å° 60%ã€‚
*   **å®‰å…¨åŠ å›º**:
    *   **Secret Zero**: æ‰€æœ‰æ•æ„Ÿé…ç½®é€šè¿‡ç¯å¢ƒå˜é‡æ³¨å…¥ï¼Œæ— ç¡¬ç¼–ç å¯†é’¥ã€‚
    *   **Input Sanitization**: Go ç½‘å…³å±‚é›†æˆ `bluemonday`ï¼Œåœ¨å…¥å£å¤„æ¸…æ´—æ‰€æœ‰ HTML æ ‡ç­¾ï¼Œé˜²æ­¢ XSS æ”»å‡»ã€‚
    *   **Trace Context**: å®ç°äº†åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª (`trace_id` è´¯ç©¿ Go -> gRPC -> Python -> DB)ã€‚

### 3. æ··åˆæ¶æ„ä¼˜åŠ¿ (Hybrid Architecture)
*   **Go (Gateway)**: å¤„ç†é«˜å¹¶å‘ WebSocket è¿æ¥ (Goroutines) å’Œ IO å¯†é›†å‹ä»»åŠ¡ã€‚
*   **Python (Backend)**: å¤„ç† AI æ¨ç†ã€LangChain ç¼–æ’å’Œå¤æ‚ä¸šåŠ¡é€»è¾‘ã€‚
*   **gRPC**: å®ç°ä¸¤ç«¯çš„é«˜æ•ˆä½å»¶è¿Ÿé€šä¿¡ã€‚

## ğŸ“Š æ¼”ç¤ºå‡†å¤‡æ¸…å•

1.  **ç¯å¢ƒæ£€æŸ¥**: ç¡®ä¿ `docker-compose ps` æ˜¾ç¤ºæ‰€æœ‰æœåŠ¡ (åŒ…å« `prometheus`, `loki`, `grafana`) å‡ä¸º Up çŠ¶æ€ã€‚
2.  **æ•°æ®é¢„çƒ­**: è¿è¡Œ `docker-compose exec sparkle_backend python seed_data/load_seed_data.py` ç¡®ä¿æ¼”ç¤ºè´¦å·æœ‰æ•°æ®ã€‚
3.  **Grafana é¢æ¿**: æå‰åœ¨ `http://localhost:3000` é…ç½®å¥½ Dashboard (å¯¼å…¥ Prom/Loki æ•°æ®æº)ã€‚

## ğŸ› ï¸ å…³é”®ä»£ç ä½ç½®

*   **è‡ªæ¯å¼€å…³**: `backend/gateway/internal/chaos/chaos.go`
*   **è¿ç»´å·¥å…·**: `backend/app/tools/ops_tools.py`
*   **å®‰å…¨æ¸…æ´—**: `backend/gateway/internal/handler/chat_orchestrator.go` (Search `bluemonday`)
*   **CI æµæ°´çº¿**: `.github/workflows/ci.yml`

ç¥æ¯”èµ›é¡ºåˆ©ï¼ğŸš€