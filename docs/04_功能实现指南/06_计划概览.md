è®¡åˆ’æ¦‚è§ˆ

  Phase 1: åŸºç¡€ä¿®å¤

  - åˆ›å»º vocabulary_provider.dart
  - ä¼˜åŒ– floating_dock.dart çŠ¶æ€ç®¡ç†

  Phase 2: æ ¸å¿ƒå·¥å…· (3ä¸ª)

  - æŸ¥è¯å·¥å…· - æœç´¢ã€æŸ¥çœ‹é‡Šä¹‰ã€åŠ å…¥ç”Ÿè¯æœ¬
  - é—ªå¿µèƒ¶å›Š - å¿«é€Ÿé”™è¯¯è®°å½•ï¼Œå…³è”å½“å‰ä»»åŠ¡
  - ç”Ÿè¯æœ¬ - å¾…å¤ä¹ åˆ—è¡¨ã€ç¿»å¡ç‰‡æ¨¡å¼

  Phase 3: æ­£å¿µæ¨¡å¼

  - æ˜Ÿç©ºèƒŒæ™¯ - éšæœºæ˜Ÿæ˜Ÿ + é—ªçƒåŠ¨ç”»
  - æ˜Ÿç©ºæ¸å˜ç¿»é¡µæ—¶é’Ÿ - 3D ç¿»è½¬æ•ˆæœ
  - ä¸‰é‡ç¡®è®¤é€€å‡º - é˜²æ­¢è¯¯æ“ä½œ
  - App åˆ‡æ¢æ£€æµ‹ - WidgetsBindingObserver
  - å‹¿æ‰°æ¨¡å¼é›†æˆ - Android MethodChannel

  Phase 4: å¢å¼ºå·¥å…· (4ä¸ª)

  - ç™½å™ªéŸ³æ’­æ”¾å™¨ - é›¨å£°ã€å’–å•¡å…ã€æ£®æ—ç­‰
  - å‘¼å¸ç»ƒä¹  - 4-7-8 å‘¼å¸æ³•åŠ¨ç”»
  - å…¬å¼é€ŸæŸ¥ - LaTeX æ¸²æŸ“ + æ”¶è—
  - ä¸“æ³¨ç»Ÿè®¡é¢æ¿ - ä»Šæ—¥/æœ¬å‘¨è¶‹åŠ¿

  æ–°å¢ä¾èµ–

  - audioplayers (ç™½å™ªéŸ³)
  - flutter_math_fork (å…¬å¼)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 Ready to code?

 Here is Claude's plan:
â•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œâ•Œ
 ä¸“æ³¨æ¨¡å¼ç³»ç»Ÿå®æ–½è®¡åˆ’

 æ¦‚è¿°

 æ„å»ºä¸€ç«™å¼ä¸“æ³¨æ¨¡å¼æœåŠ¡ï¼ŒåŒ…å«ä»£ç å®¡æŸ¥ä¿®å¤ã€æ ¸å¿ƒå·¥å…·é›†æˆã€æ­£å¿µæ¨¡
 å¼å’Œå¢å¼ºå·¥å…·ã€‚

 ---
 Phase 1: ä»£ç å®¡æŸ¥ä¸åŸºç¡€ä¿®å¤

 1.1 åç«¯éªŒè¯ (å·²å®Œæˆ)

 - vocabulary.router å·²åœ¨ backend/app/api/v1/router.py:46 æ³¨å†Œ
 - Vocabulary æ¨¡å‹å·²åœ¨ backend/app/models/__init__.py å¯¼å‡º

 1.2 Flutter Vocabulary Provider (æ–°å»º)

 æ–‡ä»¶:
 mobile/lib/presentation/providers/vocabulary_provider.dart
 // å‚è€ƒ capsule_provider.dart æ¨¡å¼
 class VocabularyState {
   final Map<String, dynamic>? lookupResult;
   final List<dynamic> wordbook;
   final List<dynamic> reviewList;
   final bool isLoading;
   final String? error;
 }

 1.3 Floating Dock çŠ¶æ€ä¼˜åŒ–

 æ–‡ä»¶: mobile/lib/presentation/widgets/focus/floating_dock.dart
 - åˆ†ç¦» isExpanded(å±•å¼€) å’Œ isHiding(éšè—åˆ°è¾¹ç¼˜) çŠ¶æ€
 - æ·»åŠ èœå•é€‰é¡¹ï¼šæ­£å¿µæ¨¡å¼å…¥å£ã€å¿«é€Ÿå·¥å…·

 ---
 Phase 2: æ ¸å¿ƒå·¥å…·å®ç°

 2.1 æŸ¥è¯å·¥å…· (Vocabulary Lookup)

 æ–‡ä»¶: mobile/lib/presentation/widgets/tools/vocabulary_lookup_t
 ool.dart
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ â•â•â• (drag handle)           â”‚
 â”‚ ğŸ” æŸ¥è¯                      â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ [è¾“å…¥å•è¯...        ] [æŸ¥è¯¢] â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ hello /hÉ™ËˆloÊŠ/              â”‚
 â”‚ n. é—®å€™è¯­                    â”‚
 â”‚ ä¾‹å¥: Hello, world!         â”‚
 â”‚                             â”‚
 â”‚ ç›¸å…³è¯: hi, greeting...     â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ [+ åŠ å…¥ç”Ÿè¯æœ¬]               â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 API: GET /vocabulary/lookup, POST /vocabulary/wordbook

 2.2 é—ªå¿µèƒ¶å›Š (Flash Capsule)

 æ–‡ä»¶:
 mobile/lib/presentation/widgets/tools/flash_capsule_tool.dart
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ â•â•â•                          â”‚
 â”‚ ğŸ’¡ é—ªå¿µèƒ¶å›Š                   â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ ç§‘ç›®: [â–¼ é«˜ç­‰æ•°å­¦         ]  â”‚
 â”‚ çŸ¥è¯†ç‚¹: [______________]     â”‚
 â”‚ é”™è¯¯ç±»å‹:                    â”‚
 â”‚ [æ¦‚å¿µæ··æ·†] [è®¡ç®—é”™è¯¯] [å®¡é¢˜]  â”‚
 â”‚                              â”‚
 â”‚ æè¿°:                        â”‚
 â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
 â”‚ â”‚                        â”‚  â”‚
 â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
 â”‚ [ğŸ“· æ·»åŠ å›¾ç‰‡]                â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ [å¿«é€Ÿä¿å­˜]                   â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 API: POST /api/v1/errors
 ç‰¹æ€§: è‡ªåŠ¨å…³è”å½“å‰ task_id

 2.3 ç”Ÿè¯æœ¬ (Wordbook)

 æ–‡ä»¶: mobile/lib/presentation/widgets/tools/wordbook_tool.dart
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ â•â•â•                          â”‚
 â”‚ ğŸ“– ç”Ÿè¯æœ¬     [å¾…å¤ä¹ |å…¨éƒ¨]  â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
 â”‚ â”‚ hello    ä»Šå¤©åˆ°æœŸ      â”‚â—€â”€â”€â”‚ å·¦æ»‘: åˆ é™¤
 â”‚ â”‚ /hÉ™ËˆloÊŠ/ é—®å€™è¯­       â”‚   â”‚ å³æ»‘: å·²æŒæ¡
 â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
 â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
 â”‚ â”‚ algorithm æ˜å¤©åˆ°æœŸ    â”‚   â”‚
 â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ [å¼€å§‹å¤ä¹ ] (ç¿»å¡ç‰‡æ¨¡å¼)      â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 API: GET /vocabulary/wordbook/review, POST 
 /vocabulary/wordbook/review

 2.4 æ›´æ–° QuickToolsPanel

 æ–‡ä»¶:
 mobile/lib/presentation/widgets/task/quick_tools_panel.dart
 - ä» Row æ”¹ä¸º Wrap å¸ƒå±€
 - æ·»åŠ  6 ä¸ªå·¥å…·æŒ‰é’®:
   - è®¡ç®—å™¨ (è“è‰², ç°æœ‰)
   - ç¿»è¯‘ (ç´«è‰², ç°æœ‰)
   - ç¬”è®° (æ©™è‰², ç°æœ‰)
   - æŸ¥è¯ (é’è‰², æ–°å¢)
   - é—ªå¿µèƒ¶å›Š (ç¥ç€è‰², æ–°å¢)
   - ç”Ÿè¯æœ¬ (ç»¿è‰², æ–°å¢)

 ---
 Phase 3: æ­£å¿µæ¨¡å¼å®ç°

 3.1 æ­£å¿µæ¨¡å¼å…¥å£

 ä¿®æ”¹:
 mobile/lib/presentation/screens/task/task_execution_screen.dart
 - åœ¨ Timer æ§åˆ¶åŒºæ·»åŠ  "è¿›å…¥æ­£å¿µæ¨¡å¼" æŒ‰é’®
 - æˆ–é€šè¿‡ FloatingDock èœå•è¿›å…¥

 3.2 æ­£å¿µæ¨¡å¼å±å¹•

 æ–‡ä»¶: mobile/lib/presentation/screens/focus/mindfulness_mode_sc
 reen.dart
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚  â˜…  .  â˜…    .    â˜…  .  â˜…  .  â˜…   â”‚ â† æ˜Ÿç©ºç²’å­èƒŒæ™¯
 â”‚ .      â˜…     .        .     â˜…   â”‚
 â”‚                                  â”‚
 â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
 â”‚       â”‚   ä»»åŠ¡å¡ç‰‡      â”‚        â”‚ â† ç»ç’ƒæ‹Ÿæ€
 â”‚       â”‚   [ä»»åŠ¡æ ‡é¢˜]    â”‚        â”‚
 â”‚       â”‚   [ç§‘ç›®æ ‡ç­¾]    â”‚        â”‚
 â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
 â”‚                                  â”‚
 â”‚          â–ˆâ–ˆ â–ˆâ–ˆ : â–ˆâ–ˆ â–ˆâ–ˆ          â”‚ â† æ˜Ÿç©ºæ¸å˜ç¿»é¡µæ—¶é’Ÿ
 â”‚                                  â”‚
 â”‚            ğŸ”¥                    â”‚ â† ç«ç„°åŠ¨ç”» (å‘¼å¸æ•ˆæœ)
 â”‚                                  â”‚
 â”‚         [ é€€å‡º ]                 â”‚ â† ä¸‰é‡ç¡®è®¤
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

 3.3 ç¿»é¡µæ—¶é’Ÿç»„ä»¶ (æ˜Ÿç©ºæ¸å˜)

 æ–‡ä»¶: mobile/lib/presentation/widgets/focus/flip_clock.dart
 - 4ä½æ•°å­—é¢æ¿ (HH:MM æˆ– MM:SS)
 - æ•°å­—å¡«å……æ˜Ÿç©ºæ¸å˜ (ShaderMask + LinearGradient)
 - ç¿»é¡µåŠ¨ç”»: Transform.rotateX + 3D é€è§†
 - æ¯æ¬¡ç¿»é¡µ 300msï¼Œé…åˆå¾®å…‰é—ªçƒæ•ˆæœ

 3.4 æ˜Ÿç©ºèƒŒæ™¯ç»„ä»¶

 æ–‡ä»¶:
 mobile/lib/presentation/widgets/focus/star_background.dart
 - CustomPainter ç»˜åˆ¶éšæœºæ˜Ÿæ˜Ÿ
 - æ˜Ÿæ˜Ÿé—ªçƒåŠ¨ç”» (opacity 0.3-1.0)
 - å¶å‘æµæ˜Ÿæ•ˆæœ

 3.5 å…¥åœº/é€€åœºåŠ¨ç”»

 // å…¥åœºåŠ¨ç”»åºåˆ— (800ms total)
 1. å½“å‰é¡µé¢æ·¡å‡ºåˆ°é»‘ (300ms, ease-out)
 2. æ˜Ÿç©ºèƒŒæ™¯æ·¡å…¥ (å¹¶è¡Œ)
 3. ä»»åŠ¡å¡ç‰‡ä»ä¸­å¿ƒç¼©æ”¾å…¥åœº (400ms, spring)
 4. ç¿»é¡µæ—¶é’Ÿæ·¡å…¥ (200ms)

 // é€€åœº: é€†åºæ’­æ”¾

 3.6 ä¸‰é‡ç¡®è®¤é€€å‡º

 æ–‡ä»¶: mobile/lib/presentation/widgets/focus/exit_confirmation_d
 ialog.dart
 æ­¥éª¤ 1: "ç¡®å®šè¦é€€å‡ºæ­£å¿µæ¨¡å¼å—ï¼Ÿ" â†’ [ç»§ç»­ä¸“æ³¨] [ç¡®è®¤é€€å‡º]
 æ­¥éª¤ 2: "å³å°†é€€å‡ºï¼Œæ˜¯å¦çœŸçš„è¦ç¦»å¼€ï¼Ÿ" â†’ [è¿”å›] [ç»§ç»­é€€å‡º]
 æ­¥éª¤ 3: "æœ€åç¡®è®¤ï¼šä½ å·²ä¸“æ³¨ XX åˆ†é’Ÿï¼Œç¡®å®šæ”¾å¼ƒå—ï¼Ÿ" â†’ [å–æ¶ˆ]
 [ç¡®å®šé€€å‡º]

 3.7 App åˆ‡æ¢æ£€æµ‹ (ä¸­åº¦é˜²åˆ†å¿ƒ)

 ä¿®æ”¹: mindfulness_mode_screen.dart å®ç° WidgetsBindingObserver
 @override
 void didChangeAppLifecycleState(AppLifecycleState state) {
   if (state == AppLifecycleState.paused) {
     _recordInterruption(InterruptionType.appSwitch);
   } else if (state == AppLifecycleState.resumed) {
     _showInterruptionWarning(); // æ˜¾ç¤ºåˆ†å¿ƒæé†’
   }
 }

 3.8 å‹¿æ‰°æ¨¡å¼æœåŠ¡

 æ–‡ä»¶: mobile/lib/core/services/dnd_service.dart
 class DNDService {
   static const platform = MethodChannel('com.sparkle.app/dnd');
   Future<bool> enableDND();
   Future<bool> disableDND();
   Future<bool> checkDNDPermission();
   Future<void> requestDNDPermission();
 }

 Android åŸç”Ÿ: android/app/src/main/kotlin/.../MainActivity.kt
 - ä½¿ç”¨ NotificationManager.setInterruptionFilter()
 - æ£€æŸ¥ isNotificationPolicyAccessGranted æƒé™

 iOS: æ˜¾ç¤ºæ‰‹åŠ¨å¼€å¯å‹¿æ‰°æ¨¡å¼çš„å¼•å¯¼

 3.9 æ­£å¿µæ¨¡å¼ Provider

 æ–‡ä»¶:
 mobile/lib/presentation/providers/mindfulness_provider.dart
 class MindfulnessState {
   final bool isActive;
   final DateTime? startTime;
   final int elapsedSeconds;
   final int interruptionCount;
   final List<InterruptionEvent> interruptions;
   final bool isDNDEnabled;
   final TaskModel? currentTask;
   final int exitConfirmationStep; // 0-3
 }

 ---
 Phase 4: å¢å¼ºå·¥å…·å®ç°

 4.1 ç™½å™ªéŸ³æ’­æ”¾å™¨

 æ–‡ä»¶:
 mobile/lib/presentation/widgets/tools/white_noise_tool.dart
 ä¾èµ–: audioplayers package
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ ğŸµ ç™½å™ªéŸ³                    â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ [ğŸŒ§ï¸é›¨å£°] [â˜•å’–å•¡å…] [ğŸŒ²æ£®æ—]
 â”‚ [ğŸŒŠæµ·æµª] [ğŸ”¥ç¯ç«]           â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ éŸ³é‡: â”€â”€â”€â”€â—â”€â”€â”€â”€â”€ 70%        â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ â±ï¸ å®šæ—¶: [15åˆ†é’Ÿâ–¼]          â”‚
 â”‚ [â–¶ï¸ æ’­æ”¾]                   â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 ç‰¹æ€§: å¾ªç¯æ’­æ”¾ã€å®šæ—¶åœæ­¢ã€å¤šéŸ³æ··åˆ

 4.2 å‘¼å¸ç»ƒä¹ 

 æ–‡ä»¶: mobile/lib/presentation/widgets/tools/breathing_tool.dart
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ ğŸ§˜ å‘¼å¸ç»ƒä¹                   â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚                              â”‚
 â”‚         â•­â”€â”€â”€â”€â”€â”€â”€â•®           â”‚
 â”‚        â•±    â—‹    â•²          â”‚ â† å‘¼å¸åœ†åœˆåŠ¨ç”»
 â”‚       â”‚   å¸æ°”   â”‚          â”‚   4s æ‰©å¼ 
 â”‚        â•²         â•±          â”‚   7s å±æ¯
 â”‚         â•°â”€â”€â”€â”€â”€â”€â”€â•¯           â”‚   8s æ”¶ç¼©
 â”‚                              â”‚
 â”‚      å·²å®Œæˆ 3 è½® / 5 è½®      â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ æ—¶é•¿: [1åˆ†é’Ÿ] [3åˆ†é’Ÿ] [5åˆ†é’Ÿ]â”‚
 â”‚ [å¼€å§‹ç»ƒä¹ ]                   â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 åŠ¨ç”»: AnimatedContainer æˆ– CustomPainter ç»˜åˆ¶æ‰©å¼ /æ”¶ç¼©åœ†

 4.3 å…¬å¼é€ŸæŸ¥

 æ–‡ä»¶: mobile/lib/presentation/widgets/tools/formula_reference_t
 ool.dart
 ä¾èµ–: flutter_math_fork package
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ ğŸ“ å…¬å¼é€ŸæŸ¥                  â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ [ğŸ” æœç´¢å…¬å¼...]             â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ [æ•°å­¦] [ç‰©ç†] [åŒ–å­¦] [â˜…æ”¶è—] â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
 â”‚ â”‚ äºŒæ¬¡æ–¹ç¨‹æ±‚æ ¹å…¬å¼         â”‚ â”‚
 â”‚ â”‚ x = (-b Â± âˆš(bÂ²-4ac))/2a â”‚ â”‚ â† LaTeX æ¸²æŸ“
 â”‚ â”‚              [â˜†æ”¶è—]    â”‚ â”‚
 â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
 â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
 â”‚ â”‚ å‹¾è‚¡å®šç†                 â”‚ â”‚
 â”‚ â”‚ aÂ² + bÂ² = cÂ²            â”‚ â”‚
 â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 æ•°æ®: æœ¬åœ° JSON å…¬å¼åº“ï¼Œæ”¯æŒåˆ†ç±»æµè§ˆå’Œæœç´¢

 4.4 ä¸“æ³¨ç»Ÿè®¡é¢æ¿

 æ–‡ä»¶:
 mobile/lib/presentation/widgets/tools/focus_stats_tool.dart
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ ğŸ“Š ä¸“æ³¨ç»Ÿè®¡                  â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ ä»Šæ—¥ä¸“æ³¨      æœ¬å‘¨ç´¯è®¡       â”‚
 â”‚   2h 35m        12h 40m     â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ ğŸ“ˆ æœ¬å‘¨è¶‹åŠ¿                  â”‚
 â”‚ â–ƒâ–†â–„â–ˆâ–…â–‡â–‚                     â”‚
 â”‚ ä¸€äºŒä¸‰å››äº”å…­æ—¥               â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ ğŸ… ç•ªèŒ„æ•°: 6    åˆ†å¿ƒ: 2æ¬¡    â”‚
 â”‚ ğŸ”¥ æœ€é•¿è¿ç»­: 45åˆ†é’Ÿ          â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 API: GET /focus/stats (å·²æœ‰)

 ---
 Phase 5: è·¯ç”±ä¸é›†æˆ

 5.1 è·¯ç”±é…ç½®

 ä¿®æ”¹: mobile/lib/app/routes.dart
 GoRoute(
   path: '/focus/mindfulness',
   builder: (context, state) => const MindfulnessModeScreen(),
 ),

 5.2 QuickToolsPanel æœ€ç»ˆå¸ƒå±€

 Wrap(
   spacing: 12,
   runSpacing: 12,
   alignment: WrapAlignment.center,
   children: [
     _ToolButton(icon: Icons.calculate, label: 'è®¡ç®—å™¨', color:
 blue),
     _ToolButton(icon: Icons.translate, label: 'ç¿»è¯‘', color:
 purple),
     _ToolButton(icon: Icons.note_alt, label: 'ç¬”è®°', color:
 orange),
     _ToolButton(icon: Icons.search, label: 'æŸ¥è¯', color:
 cyan),      // æ–°å¢
     _ToolButton(icon: Icons.lightbulb, label: 'é—ªå¿µèƒ¶å›Š',
 color: amber), // æ–°å¢
     _ToolButton(icon: Icons.menu_book, label: 'ç”Ÿè¯æœ¬', color:
 green),  // æ–°å¢
     _ToolButton(icon: Icons.music_note, label: 'ç™½å™ªéŸ³', color:
  teal),  // æ–°å¢
     _ToolButton(icon: Icons.air, label: 'å‘¼å¸', color: indigo),
         // æ–°å¢
     _ToolButton(icon: Icons.functions, label: 'å…¬å¼', color:
 pink),    // æ–°å¢
     _ToolButton(icon: Icons.bar_chart, label: 'ç»Ÿè®¡', color:
 deepPurple), // æ–°å¢
   ],
 )

 ---
 å®æ–½é¡ºåº

 Week 1: åŸºç¡€ä¸æ ¸å¿ƒå·¥å…·

 1. åˆ›å»º vocabulary_provider.dart
 2. å®ç° vocabulary_lookup_tool.dart
 3. å®ç° flash_capsule_tool.dart
 4. å®ç° wordbook_tool.dart
 5. æ›´æ–° quick_tools_panel.dart

 Week 2: æ­£å¿µæ¨¡å¼

 6. åˆ›å»º mindfulness_provider.dart
 7. å®ç° star_background.dart
 8. å®ç° flip_clock.dart (æ˜Ÿç©ºæ¸å˜)
 9. å®ç° exit_confirmation_dialog.dart
 10. å®ç° mindfulness_mode_screen.dart
 11. åˆ›å»º dnd_service.dart + Android åŸç”Ÿä»£ç 

 Week 3: å¢å¼ºå·¥å…·

 12. å®ç° white_noise_tool.dart
 13. å®ç° breathing_tool.dart
 14. å®ç° formula_reference_tool.dart
 15. å®ç° focus_stats_tool.dart
 16. ä¼˜åŒ– floating_dock.dart

 ---
 å…³é”®æ–‡ä»¶æ¸…å•

 æ–°å»ºæ–‡ä»¶

 mobile/lib/presentation/providers/
   â”œâ”€â”€ vocabulary_provider.dart
   â””â”€â”€ mindfulness_provider.dart

 mobile/lib/presentation/widgets/tools/
   â”œâ”€â”€ vocabulary_lookup_tool.dart
   â”œâ”€â”€ flash_capsule_tool.dart
   â”œâ”€â”€ wordbook_tool.dart
   â”œâ”€â”€ white_noise_tool.dart
   â”œâ”€â”€ breathing_tool.dart
   â”œâ”€â”€ formula_reference_tool.dart
   â””â”€â”€ focus_stats_tool.dart

 mobile/lib/presentation/widgets/focus/
   â”œâ”€â”€ flip_clock.dart
   â”œâ”€â”€ star_background.dart
   â”œâ”€â”€ mindfulness_task_card.dart
   â””â”€â”€ exit_confirmation_dialog.dart

 mobile/lib/presentation/screens/focus/
   â””â”€â”€ mindfulness_mode_screen.dart

 mobile/lib/core/services/
   â””â”€â”€ dnd_service.dart

 android/app/src/main/kotlin/.../
   â””â”€â”€ MainActivity.kt (ä¿®æ”¹)

 ä¿®æ”¹æ–‡ä»¶

 mobile/lib/presentation/widgets/task/quick_tools_panel.dart
 mobile/lib/presentation/widgets/focus/floating_dock.dart
 mobile/lib/presentation/screens/task/task_execution_screen.dart
 mobile/lib/app/routes.dart
 mobile/pubspec.yaml (æ·»åŠ ä¾èµ–)

 æ–°å¢ä¾èµ–

 # pubspec.yaml

 dependencies:
   audioplayers: ^5.2.1      # ç™½å™ªéŸ³
   flutter_math_fork: ^0.7.2  # å…¬å¼æ¸²æŸ“

 ---
 è®¾è®¡è§„èŒƒ

 é¢œè‰²æ–¹æ¡ˆ

 - æ­£å¿µæ¨¡å¼èƒŒæ™¯: deepSpaceStart (#0D1B2A) åˆ° deepSpaceEnd
 (#1B263B)
 - æ˜Ÿç©ºæ¸å˜: primaryBase (#FF6B35) â†’ secondaryLight (#3949AB)
 - ç¿»é¡µæ—¶é’Ÿ: æ·±è‰²èƒŒæ™¯ (#1B2838) + æ˜Ÿç©ºæ¸å˜æ–‡å­—

 åŠ¨ç”»è§„èŒƒ

 - å…¥åœºè¿‡æ¸¡: 800ms (åˆ†æ®µåŠ¨ç”»)
 - ç¿»é¡µæ—¶é’Ÿ: 300ms æ¯æ¬¡ç¿»è½¬
 - æ˜Ÿæ˜Ÿé—ªçƒ: 1-3s éšæœºå‘¨æœŸ
 - å‘¼å¸åœ†åœˆ: 4s-7s-8s (å¸-å±-å‘¼)